--
-- PostgreSQL database dump
--

SET statement_timeout = 0;
SET lock_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET client_min_messages = warning;

--
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET default_tablespace = '';

SET default_with_oids = false;

--
-- Name: daftar_agama; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE public.daftar_agama (
    id smallint NOT NULL,
    "desc" character varying(10)
);


ALTER TABLE public.daftar_agama OWNER TO postgres;

--
-- Name: daftar_agama_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.daftar_agama_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.daftar_agama_id_seq OWNER TO postgres;

--
-- Name: daftar_agama_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.daftar_agama_id_seq OWNED BY public.daftar_agama.id;


--
-- Name: hist_penghuni; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE public.hist_penghuni (
    nama_penghuni character varying(50),
    nama_panggilan character varying(10),
    hp character varying(15),
    hpdarurat character varying(15),
    foto character varying(255),
    alamat character varying(255),
    no_ktp character varying(17),
    tglmasuk date,
    tglkeluar date,
    fotoktp character varying(255),
    fotoktm character varying(255),
    lb character varying,
    hist_kosan character varying(25),
    hist_kamar character varying(25)
);


ALTER TABLE public.hist_penghuni OWNER TO postgres;

--
-- Name: kamar; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE public.kamar (
    id_kamar integer NOT NULL,
    nama_kamar character varying(25),
    luas character varying(10),
    fasilitas character varying,
    hargath character varying(25),
    id_kosan integer,
    id_penghuni integer
);


ALTER TABLE public.kamar OWNER TO postgres;

--
-- Name: kamar_id_kamar_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.kamar_id_kamar_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.kamar_id_kamar_seq OWNER TO postgres;

--
-- Name: kamar_id_kamar_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.kamar_id_kamar_seq OWNED BY public.kamar.id_kamar;


--
-- Name: kosan; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE public.kosan (
    id_kosan integer NOT NULL,
    nama_kosan character varying(25),
    alamat character varying(255),
    fasum character varying,
    foto_kosan character varying(255),
    kontak character varying,
    lokasi character varying(25),
    kamarmandi character varying,
    deskripsilokasi character varying,
    id_pengguna integer,
    deskripsi character varying,
    lat double precision DEFAULT 0,
    lon double precision DEFAULT 0
);


ALTER TABLE public.kosan OWNER TO postgres;

--
-- Name: kosan_id_kosan_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.kosan_id_kosan_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.kosan_id_kosan_seq OWNER TO postgres;

--
-- Name: kosan_id_kosan_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.kosan_id_kosan_seq OWNED BY public.kosan.id_kosan;


--
-- Name: pengguna; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE public.pengguna (
    id_pengguna integer NOT NULL,
    username character varying(15),
    nama_lengkap character varying(50),
    hp character varying(15),
    alamat character varying(255),
    password character varying(255)
);


ALTER TABLE public.pengguna OWNER TO postgres;

--
-- Name: pengguna_id_pengguna_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.pengguna_id_pengguna_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.pengguna_id_pengguna_seq OWNER TO postgres;

--
-- Name: pengguna_id_pengguna_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.pengguna_id_pengguna_seq OWNED BY public.pengguna.id_pengguna;


--
-- Name: penghuni; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE public.penghuni (
    id_penghuni integer NOT NULL,
    nama_penghuni character varying(50),
    nama_panggilan character varying(10),
    hp character varying(15),
    hpdarurat character varying(75),
    foto character varying(255),
    alamat_penghuni character varying(255),
    no_ktp character varying(17),
    tglmasuk date,
    tglkeluar date,
    fotoktp character varying(255),
    fotoktm character varying(255),
    lb character varying,
    ttl character varying(30),
    gender character(1),
    agama smallint,
    hp2 character varying(15),
    jurusan character varying(50),
    fakultas character varying(15),
    nim character varying(10),
    ket_ayah character varying(75),
    ket_ibu character varying(75),
    sisa_pelunasan integer,
    email character varying(50),
    fb character varying(50),
    twitter character varying(25),
    bbm character varying(10),
    ig character varying(25),
    metode_bayar character(1)
);


ALTER TABLE public.penghuni OWNER TO postgres;

--
-- Name: penghuni_id_penghuni_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.penghuni_id_penghuni_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.penghuni_id_penghuni_seq OWNER TO postgres;

--
-- Name: penghuni_id_penghuni_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.penghuni_id_penghuni_seq OWNED BY public.penghuni.id_penghuni;


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.daftar_agama ALTER COLUMN id SET DEFAULT nextval('public.daftar_agama_id_seq'::regclass);


--
-- Name: id_kamar; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.kamar ALTER COLUMN id_kamar SET DEFAULT nextval('public.kamar_id_kamar_seq'::regclass);


--
-- Name: id_kosan; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.kosan ALTER COLUMN id_kosan SET DEFAULT nextval('public.kosan_id_kosan_seq'::regclass);


--
-- Name: id_pengguna; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.pengguna ALTER COLUMN id_pengguna SET DEFAULT nextval('public.pengguna_id_pengguna_seq'::regclass);


--
-- Name: id_penghuni; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.penghuni ALTER COLUMN id_penghuni SET DEFAULT nextval('public.penghuni_id_penghuni_seq'::regclass);


--
-- Data for Name: daftar_agama; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.daftar_agama (id, "desc") FROM stdin;
1	Islam
2	Protestan
3	Katolik
4	Hindu
5	Buddha
6	Khonghucu
\.


--
-- Name: daftar_agama_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.daftar_agama_id_seq', 6, true);


--
-- Data for Name: hist_penghuni; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.hist_penghuni (nama_penghuni, nama_panggilan, hp, hpdarurat, foto, alamat, no_ktp, tglmasuk, tglkeluar, fotoktp, fotoktm, lb, hist_kosan, hist_kamar) FROM stdin;
Naufal	Gopal	085659360489	08123456789	\N	Jl Cihanjuang no124 Cimahi	\N	2017-08-14	2018-08-14	\N	\N	\N	Edumedia 1 Geger Asih	Kamar 1
Dika	\N	08456789123		\N			\N	\N	\N	\N	\N	Edumedia 1 Geger Asih	Kamar 2
ando	\N			\N			\N	\N	\N	\N	\N	Edumedia 2 Geger Arum	vcdxcbcvb
meee	\N			\N			\N	\N	\N	\N	\N	Edumedia 2 Geger Arum	vcdxcbcvb
\.


--
-- Data for Name: kamar; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.kamar (id_kamar, nama_kamar, luas, fasilitas, hargath, id_kosan, id_penghuni) FROM stdin;
2	Kamar 2	7.5	kosong (kcuali ada peninggalan pghuni sblmny)	Rp 6.500.000 / thn	1	0
3	vcdxcbcvb	345	dbvdfv	345345	2	0
1	Kamar 1	7.5	kosong (kcuali ada peninggalan pghuni sblmny)	Rp 6.500.000 / thn	1	6
4	fasdfasfd				2	5
\.


--
-- Name: kamar_id_kamar_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.kamar_id_kamar_seq', 4, true);


--
-- Data for Name: kosan; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.kosan (id_kosan, nama_kosan, alamat, fasum, foto_kosan, kontak, lokasi, kamarmandi, deskripsilokasi, id_pengguna, deskripsi, lat, lon) FROM stdin;
1	Edumedia 1 Geger Asih	Gg Geger Asih no148	15 kamar, mesin cuci, kompor gas, </br>  alat masak, jemuran, tv	gs	08122-384-925 (Pak Dadang)</br>  0896-3042-2834 (Pak Dadang)</br>  0856-59-360-489 (Naufal)</br>  0856-225-396 (Nadiya)</br>  0857-2006-4123 (Fathia)	https://goo.gl/b25DH7	lt1=2bh, lt2=2bh, lt3=1bh	masuk jl geger asih, belok kiri, rumahnya sebelah kiri	1	15 kamar	-6.86254328708866979	107.588497102260618
2	Edumedia 2 Geger Arum	Jl Geger Arum no133	mesin cuci, kompor gas, </br>  alat masak, jemuran, tv	gr	08122-384-925 (Pak Dadang)	https://goo.gl/3K9NBy	lt1=3bh, lt2=1bh	sebrang smp29 ada gang kecil, rumahnya di sblh kanan	1	8 kamarr	-6.86085494667260853	107.586737573146848
\.


--
-- Name: kosan_id_kosan_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.kosan_id_kosan_seq', 2, true);


--
-- Data for Name: pengguna; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.pengguna (id_pengguna, username, nama_lengkap, hp, alamat, password) FROM stdin;
1	dadangm	Dadang Machmudin	08123546789	Jl Sarimanisss	$2a$08$B.QR6O/g1KonzKkoQHA/4.cYWoNiZlNtIHeHq5/o3HymcWQFngg3e
\.


--
-- Name: pengguna_id_pengguna_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.pengguna_id_pengguna_seq', 1, true);


--
-- Data for Name: penghuni; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.penghuni (id_penghuni, nama_penghuni, nama_panggilan, hp, hpdarurat, foto, alamat_penghuni, no_ktp, tglmasuk, tglkeluar, fotoktp, fotoktm, lb, ttl, gender, agama, hp2, jurusan, fakultas, nim, ket_ayah, ket_ibu, sisa_pelunasan, email, fb, twitter, bbm, ig, metode_bayar) FROM stdin;
5	you	\N			\N			2018-10-17	\N	\N	\N	\N		P	1							0						C
6	wooow	\N			\N			2018-10-17	2019-10-16	\N	\N	\N		P	1							-1						C
\.


--
-- Name: penghuni_id_penghuni_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.penghuni_id_penghuni_seq', 6, true);


--
-- Name: pk_daftar_agama; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY public.daftar_agama
    ADD CONSTRAINT pk_daftar_agama PRIMARY KEY (id);


--
-- Name: pk_kamar; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY public.kamar
    ADD CONSTRAINT pk_kamar PRIMARY KEY (id_kamar);


--
-- Name: pk_kosan; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY public.kosan
    ADD CONSTRAINT pk_kosan PRIMARY KEY (id_kosan);


--
-- Name: pk_pengguna; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY public.pengguna
    ADD CONSTRAINT pk_pengguna PRIMARY KEY (id_pengguna);


--
-- Name: pk_penghuni; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY public.penghuni
    ADD CONSTRAINT pk_penghuni PRIMARY KEY (id_penghuni);


--
-- Name: fk_kamar_kosan; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.kamar
    ADD CONSTRAINT fk_kamar_kosan FOREIGN KEY (id_kosan) REFERENCES public.kosan(id_kosan);


--
-- Name: fk_kosan_pengguna; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.kosan
    ADD CONSTRAINT fk_kosan_pengguna FOREIGN KEY (id_pengguna) REFERENCES public.pengguna(id_pengguna);


--
-- Name: SCHEMA public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM postgres;
GRANT ALL ON SCHEMA public TO postgres;
GRANT ALL ON SCHEMA public TO PUBLIC;


--
-- PostgreSQL database dump complete
--

